# Production Environment Variables
# ============================================
# Copy this file to .env.production and fill in your values
# DO NOT commit .env.production to Git!
# ============================================

# Server Configuration
NODE_ENV=production
PORT=5000

# Database
MONGO_URI=mongodb://mongodb:27017/security-nt219

# Client Configuration
# ⚠️ IMPORTANT: Replace yourdomain.com with your actual domain
CLIENT_ORIGIN=https://yourdomain.com
FRONTEND_URL=https://yourdomain.com
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com

# Vault Configuration
# ============================================
# Enable Vault for secret management
VAULT_ENABLED=true
VAULT_ADDR=http://vault:8200
VAULT_SECRET_PATH=secret/data/demo-nt219

# AppRole Credentials (from setup-vault.sh)
# Get these values by running: ./scripts/setup-vault.sh
VAULT_ROLE_ID=your_role_id_here
VAULT_SECRET_ID=your_secret_id_here

# Optional: Use namespace if you have one
# VAULT_NAMESPACE=

# Rate Limiting
RATE_LIMIT_WINDOW_MINUTES=15
RATE_LIMIT_MAX_REQUESTS=100

# Trust proxy (important when behind Nginx)
TRUST_PROXY=true

# ============================================
# All sensitive secrets (JWT keys, Stripe, OAuth)
# are stored in Vault, not in this file!
# ============================================
# 
# JWT Configuration - RS256 (RSA asymmetric encryption)
# In production, keys should be stored in Vault and loaded at runtime
# Alternatively, mount keys as Docker secrets/volumes
JWT_ACCESS_PRIVATE_KEY_PATH=./keys/jwt-private.pem
JWT_ACCESS_PUBLIC_KEY_PATH=./keys/jwt-public.pem
JWT_REFRESH_PRIVATE_KEY_PATH=./keys/jwt-refresh-private.pem
JWT_REFRESH_PUBLIC_KEY_PATH=./keys/jwt-refresh-public.pem
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
#
# To add/update secrets in Vault, run:
# docker exec vault vault login <ROOT_TOKEN>
# docker exec vault vault kv put secret/demo-nt219 KEY=VALUE
